<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil do Usuário</title>
    <link rel="stylesheet" href="/TelaDeUsuario/stylesTest.css">
    <style>
        .toast {
            visibility: hidden; min-width: 250px; background-color: #f44336;
            color: white; text-align: center; border-radius: 5px; padding: 16px;
            position: fixed; z-index: 100; right: 30px; top: 30px;
            font-size: 17px; opacity: 0; transition: opacity 0.5s, top 0.5s;
        }
        .toast.show { visibility: visible; opacity: 1; top: 50px; }
    </style>
</head>
<body>
    <div class="usuarioBoxeInformacoes">
        <div class="usuarioBoxeInfoSup">
            <div id="imagem0111">
                <img src="{{ url_for('static', filename='iconeUser.png') }}" alt="Foto do usuário" id="preview">
            </div>
            <button id="openModalButton">Editar Foto</button>
        </div>
        <p>Nome: {{ usuario.nome }}</p>
        <p>Email: {{ usuario.email }}</p>
        <p>Cidade: {{ usuario.cidade }}</p>
        <p>Posição: {{ usuario.posicao }}</p>
        <p>Data de Nascimento: {{ usuario.nascimento | format_date }}</p>
        <p>Número: {{ usuario.numero }}</p>
        <a href="{{ url_for('pagina_inicial') }}">Voltar para a Tela Inicial</a>
    </div>

    <!-- Modal para upload de imagem -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="close-button" id="closeModalButton">×</button>
            <h2>Upload de Imagem</h2>
            <input type="file" accept="image/*" id="fileInput">
            <button class="cortarImagem">Cortar Imagem</button>
        </div>
    </div>

    <script>
        const openModalButton = document.getElementById('openModalButton');
        const closeModalButton = document.getElementById('closeModalButton');
        const modal = document.getElementById('modal');
        const fileInput = document.getElementById('fileInput');
        const preview = document.getElementById('preview');

        openModalButton.addEventListener('click', () => modal.style.display = 'flex');

        closeModalButton.addEventListener('click', () => modal.style.display = 'none');

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => preview.src = e.target.result;
                reader.readAsDataURL(file);
            }
        });
    </script>
</body>
</html>
