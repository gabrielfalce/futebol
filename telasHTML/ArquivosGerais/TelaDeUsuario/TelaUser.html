<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de {{ usuario.nome or 'Usuário' }}</title>
    
    <!-- CORREÇÃO: Removido 'ArquivosGerais/' do filename -->
    <link rel="stylesheet" href="{{ url_for('assets', filename='TelaDeUsuario/stylesTest.css') }}">
    
    <div class="Wallpaper">
        <!-- CORREÇÃO: Removido 'ArquivosGerais/' do filename. Também removido o src duplicado. -->
        <img class="imagemWallpaper" src="{{ url_for('assets', filename='TelaDeUsuario/imagens/hM94BRC.jpeg') }}" alt="Wallpaper de fundo">
    </div>
</head>
<body>
    <!-- Wrapper principal para o conteúdo da página -->
    <div class="main-content-wrapper">
        <!-- Coluna do Perfil -->
        <div id="profileContainer">
            <div class="profile-info-group">
                <div id="perfilImagemGeralCaixa">
                    <!-- CORREÇÃO: Removido 'ArquivosGerais/' do filename da imagem padrão -->
                    <img id="preview" 
                        src="{{ usuario.profile_image_url or url_for('assets', filename='TelaDeUsuario/imagens/user-icon-placeholder.png') }}" 
                        alt="Imagem de perfil do usuário">
                </div>
                <p class="nomeUsuario">{{ usuario.nome or 'Nome de Usuário' }}</p>
            </div>
            <!-- A rota 'editar_perfil' precisa existir no seu app.py para isso funcionar -->
            <a href="{{ url_for('editar_perfil') }}" class="edit-profile-button">Editar Perfil</a>
        </div>
        
        <!-- Coluna das Publicações -->
        <div class="posts-container">
            <hr class="section-divider">
            <h1 class="section-title">Publicações do Usuário</h1>
            <div class="BoxePublicacoes">
                <!-- CORREÇÃO: Removido 'ArquivosGerais/' do filename -->
                <img class="publicacaoImagem" src="{{ url_for('assets', filename='TelaDeUsuario/imagens/WallpaperTest.jpg') }}" alt="Imagem de publicação">
            </div>

            <div class="BoxePublicacoes">
                <h1>Outra Publicação</h1>
                <!-- CORREÇÃO: Removido 'ArquivosGerais/' do filename -->
                <img class="publicacaoImagem" src="{{ url_for('assets', filename='TelaDeUsuario/imagens/WallpaperTest.jpg') }}" alt="Imagem de publicação">
            </div>
        </div>
    </div>

    <!-- Wrapper para agrupar todos os botões flutuantes -->
    <div class="floating-buttons-group">
        <div class="floating-button-wrapper">
            <div class="floating-button-bar"></div>
            <a href="{{ url_for('pagina_inicial') }}">
                <button class="floating-button">
                    <!-- CORREÇÃO: Removido 'ArquivosGerais/' do filename -->
                    <img src="{{ url_for('assets', filename='TelaDeUsuario/imagens/bolaLogo.png') }}" alt="Ir para tela inicial">
                </button>
            </a>
        </div>

        <div class="floating-button-wrapper">
            <button id="createPostBtn" class="floating-button create-post-button" title="Criar nova publicação">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
            </button>
        </div>
    </div>

    <!-- Modal para Criar/Editar Publicação -->
    <div id="postModal" class="modal">
        <!-- ... (conteúdo do modal ) ... -->
    </div>

    <!-- CORREÇÃO: Removido 'ArquivosGerais/' do filename -->
    <script src="{{ url_for('assets', filename='TelaDeUsuario/script.js') }}"></script>
</body>
</html>
